# Plastic Inventory

Полное руководство по установке, настройке и запуску проекта (frontend + backend).

---

## Содержание
- [Требования](#требования)
- [Структура проекта](#структура-проекта)
- [Установка и запуск backend](#установка-и-запуск-backend)
- [Установка и запуск frontend](#установка-и-запуск-frontend)
- [Настройка переменных окружения](#настройка-переменных-окружения)
- [Инициализация базы данных и тестовые данные](#инициализация-базы-данных-и-тестовые-данные)
- [Полезные команды](#полезные-команды)
- [Типовые ошибки](#типовые-ошибки)

---

## Требования
- Python 3.10+
- Node.js (LTS, рекомендуется >=18)
- npm (обычно идет вместе с Node.js)
- Git

---

## Структура проекта
```
plastic-inventory/
├── backend/         # Серверная часть (FastAPI)
├── frontend/        # Клиентская часть (React + Vite)
├── plastic.db       # Файл базы данных SQLite (создается автоматически)
```

---

## Установка и запуск backend
1. Перейдите в папку backend:
   ```sh
   cd backend
   ```
2. Создайте и активируйте виртуальное окружение (Windows):
   ```sh
   python -m venv venv
   .\venv\Scripts\activate
   ```
3. Установите зависимости:
   ```sh
   pip install -r requirements.txt
   ```

4. Создайте файл `.env` в папке backend со следующим содержимым:
   ```env
   SECRET_KEY=supersecretkey
   ALGORITHM=HS256
   ACCESS_TOKEN_EXPIRE_MINUTES=60
   ```
5. Инициализируйте базу данных и тестовые данные (по желанию):
   ```sh
   python init_db.py
   ```
6. Запустите сервер:
   ```sh
   uvicorn main:app --reload
   ```
   Сервер будет доступен по адресу http://localhost:8000

---

## Установка и запуск frontend
1. Перейдите в папку frontend:
   ```sh
   cd frontend
   ```
2. Установите зависимости:
   ```sh
   npm install
   ```
3. Запустите проект в режиме разработки:
   ```sh
   npm run dev
   ```
   Откройте браузер и перейдите по адресу, который появится в терминале (обычно http://localhost:5173)

---

## Настройка переменных окружения
- Все переменные для backend указываются в файле `.env` (см. пример выше).
- Для frontend обычно ничего настраивать не требуется, если API backend работает на http://localhost:8000.
- Если адрес backend другой, настройте прокси или измените адреса в файлах API (например, `frontend/src/api/axios.js`).

---

## Инициализация базы данных и тестовые данные
- Для создания таблиц и тестовых данных выполните:
  ```sh
  python init_db.py
  ```


---

## Полезные команды
- Активация виртуального окружения (Windows):
  ```sh
  .\venv\Scripts\activate
  ```
- Деактивация:
  ```sh
  deactivate
  ```
- Установка новой зависимости (backend):
  ```sh
  pip install <package>
  pip freeze > requirements.txt
  ```
- Установка новой зависимости (frontend):
  ```sh
  npm install <package>
  ```

---

## Типовые ошибки
- **Модуль не найден**: Проверьте, что активировано виртуальное окружение и установлены все зависимости.
- **CORS ошибка**: Убедитесь, что backend разрешает запросы с адреса frontend (см. настройку CORS в `main.py`).
- **Ошибка доступа к базе**: Проверьте права на файл `plastic.db` и путь к нему.

---

## Контакты
- Вопросы и предложения: [ваш email или github]
